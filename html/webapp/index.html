<!doctype html>
<html lang="en">
<head>
  <title>Calendar Game</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta id="gameViewport" name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover">
  <style>
    html, body {
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden;
      background-color: #000000;
      touch-action: manipulation;
      overscroll-behavior: none;
    }
    #embed-html {
      width: 100%;
      height: 100%;
    }
    canvas {
      cursor: default;
      outline: none;
      touch-action: manipulation;
    }
  </style>
</head>
<body>
  <!-- Conteneur pour LibGDX -->
  <div id="embed-html"></div>
  
  <!-- Script LibGDX -->
  <script type="text/javascript" src="html/html.nocache.js"></script>
  
  <!-- Script pour mesurer la hauteur du clavier iOS/Android -->
  <script>
  (function () {
    // Fallback pour anciens navigateurs Android (Firefox/Samsung)
    const BASE = window.innerHeight;
    
    function computeBottomInset() {
      // Hauteur réellement mangée par le clavier + barres iOS/Android
      const vv = window.visualViewport;
      if (vv) {
        // Espace en-dessous du viewport visuel (clavier)
        const keyboard = Math.max(0, (window.innerHeight - (vv.height + vv.offsetTop)));
        
        // Pas besoin d'ajouter safe-area ici, elle est gérée côté LibGDX
        // Le CSS padding-bottom: env(safe-area-inset-bottom) gère déjà la safe-area
        return Math.round(keyboard);
      } else {
        // Fallback pour anciens navigateurs Android
        const now = window.innerHeight;
        return Math.max(0, BASE - now); // diff ≈ hauteur clavier
      }
    }

    function notifyInsets() {
      const inset = computeBottomInset();
      if (window.gdxKeyboardInsetsChanged) {
        window.gdxKeyboardInsetsChanged(inset);
      }
    }

    window.addEventListener('resize', notifyInsets);
    window.addEventListener('orientationchange', notifyInsets);
    if (window.visualViewport) {
      window.visualViewport.addEventListener('resize', notifyInsets);
      window.visualViewport.addEventListener('scroll', notifyInsets);
    }
    // premier calcul
    setTimeout(notifyInsets, 0);
  })();
  </script>
</body>
</html> 